<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 1 | Questionable Engineering</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="A collection of pointless, random, and probaly bad ideas">
<meta property="og:type" content="website">
<meta property="og:title" content="Questionable Engineering">
<meta property="og:url" content="http://questionableengineering.com/index.html">
<meta property="og:site_name" content="Questionable Engineering">
<meta property="og:description" content="A collection of pointless, random, and probaly bad ideas">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Grun">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Questionable Engineering" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

<meta name="generator" content="Hexo 5.4.0"></head>



  <body>


  
  
  <div class="site-header-image">
    <img id="originBg" width="100%" alt="Hike News" src="">
  </div>

  <div id="header-blur" class="site-header-image blur" style="position: absolute; top:0; height: 207px; min-height: 207px; min-width: 100%;">
    <img id="blurBg" width="100%" style="top: 96%" alt="Hike News" src="">
  </div>

  <script>
        var imgUrls = "css/images/pose01.jpg,https://source.unsplash.com/collection/954550/1920x1080,https://source.unsplash.com/collection/954550/1920x1081".split(",");
        var random = Math.floor((Math.random() * imgUrls.length ));
        if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
          document.getElementById("originBg").src=imgUrls[random];
          document.getElementById("blurBg").src=imgUrls[random];
        } else {
          document.getElementById("originBg").src='/' + imgUrls[random];
          document.getElementById("blurBg").src='/' + imgUrls[random];
        }
    </script>




<header id="allheader" class="site-header" role="banner" 
   style="width: 100%; position: absolute; top:0; background: rgba(255,255,255,.8);"  >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="Questionable Engineering" rel="home"> Questionable Engineering </a>
            
          </h1>
          
          
            <div class="site-description">A collection of pointless, random, and probaly bad ideas</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-MQTT-K8s-Setup-on-Ubuntu-20-04"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2023/04/16/MQTT-K8s-Setup-on-Ubuntu-20-04/">MQTT K8s Setup on Ubuntu 20.04</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2023/04/16/MQTT-K8s-Setup-on-Ubuntu-20-04/" class="article-date">
	  <time datetime="2023-04-16T13:35:18.000Z" itemprop="datePublished">April 16, 2023</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Install-the-k8s-cluster"><a href="#Install-the-k8s-cluster" class="headerlink" title="Install the k8s cluster"></a>Install the k8s cluster</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">microk8s enable dns storage helm3</span><br><span class="line">microk8s status</span><br></pre></td></tr></table></figure>

<h1 id="Install-the-Mqtt-helm-chart"><a href="#Install-the-Mqtt-helm-chart" class="headerlink" title="Install the Mqtt helm chart"></a>Install the Mqtt helm chart</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">microk8s helm repo add truecharts https:&#x2F;&#x2F;charts.truecharts.org&#x2F;</span><br><span class="line">microk8s helm pull truecharts&#x2F;mosquitto --version 8.0.11</span><br><span class="line"></span><br><span class="line">microk8s helm install my-mosquitto truecharts&#x2F;mosquitto --version 8.0.11</span><br></pre></td></tr></table></figure>

<h2 id="Check-the-status-of-the-installed-application"><a href="#Check-the-status-of-the-installed-application" class="headerlink" title="Check the status of the installed application."></a>Check the status of the installed application.</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">microk8s status</span><br><span class="line">microk8s kubectl show pods</span><br><span class="line">microk8s kubectl</span><br><span class="line">microk8s kubectl logs</span><br><span class="line">microk8s kubectl describe pods</span><br></pre></td></tr></table></figure>
<h1 id="Service-yaml-file"><a href="#Service-yaml-file" class="headerlink" title="Service yaml file"></a>Service yaml file</h1><p>We need to expose the service to the outside world.<br>Thankfully microk8s has a built in loadbalancer called metallb</p>
<p>Replace Y with the MQTT port number. Default 1883<br>Replace Z with the MQTT API number  Default 9001</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: mqtt-service</span><br><span class="line">spec:</span><br><span class="line">  type: LoadBalancer</span><br><span class="line">  selector:</span><br><span class="line">    app.kubernetes.io&#x2F;name: mosquitto</span><br><span class="line">  ports:</span><br><span class="line">    - name: http</span><br><span class="line">      protocol: TCP</span><br><span class="line">      port: Y</span><br><span class="line">      targetPort: Y</span><br><span class="line">    - name: https</span><br><span class="line">      protocol: TCP</span><br><span class="line">      port: Z</span><br><span class="line">      targetPort: Z</span><br><span class="line">  externalIPs:</span><br><span class="line">    - X.X.X.X</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>More information here<br><a target="_blank" rel="noopener" href="https://medium.com/swlh/kubernetes-external-ip-service-type-5e5e9ad62fcd">https://medium.com/swlh/kubernetes-external-ip-service-type-5e5e9ad62fcd</a></p>
<h1 id="Apply-the-service"><a href="#Apply-the-service" class="headerlink" title="Apply the service"></a>Apply the service</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">microk8s kubectl apply -f .&#x2F;mqtt-service.yaml </span><br></pre></td></tr></table></figure>
<h2 id="Confirm-the-service-is-active"><a href="#Confirm-the-service-is-active" class="headerlink" title="Confirm the service is active"></a>Confirm the service is active</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">microk8s kubectl describe services mqtt-service</span><br></pre></td></tr></table></figure>
<h1 id="Local-test-client"><a href="#Local-test-client" class="headerlink" title="Local test client"></a>Local test client</h1><p>You can test the connection locally on the server with this simple CLI mqtt client<br>Test client<br><a target="_blank" rel="noopener" href="https://mqttx.app/cli">https://mqttx.app/cli</a></p>
<h1 id="Firewall-Rules"><a href="#Firewall-Rules" class="headerlink" title="Firewall Rules"></a>Firewall Rules</h1><p>This assumes you are using ufw.<br>ufw is bascally a wrapper for IPTABLES. If you have ever used IPTABLES before you understand why ufw exists.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw default allow routed </span><br><span class="line">sudo ufw allow from X.X.X.0&#x2F;X to any port Y proto tcp</span><br><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure>
<h1 id="Test-external-Connections"><a href="#Test-external-Connections" class="headerlink" title="Test external Connections"></a>Test external Connections</h1><p>Once again try to connect to port Y with <a target="_blank" rel="noopener" href="https://mqttx.app/cli">https://mqttx.app/cli</a></p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/services-networking/service/">https://kubernetes.io/docs/concepts/services-networking/service/</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Microscope-Camera"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2023/02/20/Microscope-Camera/">Microscope Camera</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2023/02/20/Microscope-Camera/" class="article-date">
	  <time datetime="2023-02-20T15:21:18.000Z" itemprop="datePublished">February 20, 2023</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Camera-Selection"><a href="#Camera-Selection" class="headerlink" title="Camera Selection"></a>Camera Selection</h1><p>5MP camera is the min. Cellphone adapter is also available but I want a dedicated camera. </p>
<h1 id="Research"><a href="#Research" class="headerlink" title="Research"></a>Research</h1><p>This was a similar project to what I am trying to build. Very nice blog as well<br><a target="_blank" rel="noopener" href="https://www.briandorey.com/post/raspberry-pi-high-quality-camera-on-the-microscope">https://www.briandorey.com/post/raspberry-pi-high-quality-camera-on-the-microscope</a></p>
<h1 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h1><p>Raspberrypi High Quaility Camera 12 MP C mount<br><a target="_blank" rel="noopener" href="https://www.adafruit.com/product/4561">https://www.adafruit.com/product/4561</a></p>
<p>The framerate on a raspberry pi is very low so I perchased an arducam camera to usb board.<br><a target="_blank" rel="noopener" href="https://www.arducam.com/product/arducam-uvc-camera-adapter-board-for-12mp-imx477-raspberry-pi-hq-camera/">https://www.arducam.com/product/arducam-uvc-camera-adapter-board-for-12mp-imx477-raspberry-pi-hq-camera/</a><br><a target="_blank" rel="noopener" href="https://www.amazon.com/gp/product/B08NVG2CY4/ref=ppx_od_dt_b_asin_title_s00?ie=UTF8&amp;psc=1">https://www.amazon.com/gp/product/B08NVG2CY4/ref=ppx_od_dt_b_asin_title_s00?ie=UTF8&amp;psc=1</a><br>I got the idea to use the arducam adapter from <a target="_blank" rel="noopener" href="https://www.briandorey.com/post/raspberry-pi-high-quality-camera-on-the-microscope">https://www.briandorey.com/post/raspberry-pi-high-quality-camera-on-the-microscope</a></p>
<h2 id="User-Manual-for-the-Pi-camera-adapter"><a href="#User-Manual-for-the-Pi-camera-adapter" class="headerlink" title="User Manual for the Pi camera adapter."></a>User Manual for the Pi camera adapter.</h2><a href="/2023/02/20/Microscope-Camera/Arducam-UVC-Camera-Adapter-Board-for-12MP-IMX477-Raspberry-Pi-HQ-Camera-b0278.pdf" title="Arducam-UVC-Camera-Adapter-Board-for-12MP-IMX477-Raspberry-Pi-HQ-Camera-b0278.pdf">Arducam-UVC-Camera-Adapter-Board-for-12MP-IMX477-Raspberry-Pi-HQ-Camera-b0278.pdf</a>
<a href="/2023/02/20/Microscope-Camera/UC-733_DIM.pdf" title="UC-733_DIM.pdf">UC-733_DIM.pdf</a>

<img src="/2023/02/20/Microscope-Camera/PXL_20230223_004435934.jpg" style="width: 100%; height: 100%;"/>

<p>Raspberrypi High Quaility Camera 12 MP C mount</p>
<img src="/2023/02/20/Microscope-Camera/PXL_20230223_004547089.jpg" style="width: 100%; height: 100%;"/>

<p>Components: Raspberrypi High Quaility Camera 12 MP C mount, ribbion cable, and Arducam UVC Camera Adapter Board.</p>
<img src="/2023/02/20/Microscope-Camera/PXL_20230223_004725052.jpg" style="width: 100%; height: 100%;"/>

<p>Connecting the Arducam UVC Camera Adapter Board to the Raspberrypi High Quaility Camera</p>
<h1 id="Mechanical"><a href="#Mechanical" class="headerlink" title="Mechanical"></a>Mechanical</h1><h2 id="Camera-Adapter-Mount"><a href="#Camera-Adapter-Mount" class="headerlink" title="Camera Adapter Mount"></a>Camera Adapter Mount</h2><p>I orginally went with mounting the camera without any lenses. Using this Raspberry Pi HQ camera adapter 3d printed<br><a target="_blank" rel="noopener" href="https://www.printables.com/model/59927-raspberry-hq-camera-to-amscope-adapter">https://www.printables.com/model/59927-raspberry-hq-camera-to-amscope-adapter</a> </p>
<img src="/2023/02/20/Microscope-Camera/PXL_20230225_141808927.jpg" style="width: 100%; height: 100%;"/>

<p>The adapter mounted to the camera port of my AmScope T720B Scope</p>
<img src="/2023/02/20/Microscope-Camera/PXL_20230225_141813448.jpg" style="width: 100%; height: 100%;"/>

<p>Front-Side</p>
<img src="/2023/02/20/Microscope-Camera/PXL_20230225_141817710.jpg" style="width: 100%; height: 100%;"/>

<p>Side</p>
<img src="/2023/02/20/Microscope-Camera/Plant_Leaf.png" style="width: 100%; height: 100%;"/>
Using the above setup I was able to take this image with the camera.
This is a plant leaf from the [Codiaeum variegatum](https://en.wikipedia.org/wiki/Codiaeum_variegatum) at ~40x

<h2 id="Camera-Issues"><a href="#Camera-Issues" class="headerlink" title="Camera Issues"></a>Camera Issues</h2><p>The camera sensor size causes an inherent magnification effect called crop factor. The field of view becomes reduced due to the this magnification effect. You can see this in the image above.<br>More information here<br><a target="_blank" rel="noopener" href="https://learn.adafruit.com/raspberry-pi-hq-camera-lenses/crop-factor">https://learn.adafruit.com/raspberry-pi-hq-camera-lenses/crop-factor</a><br><a target="_blank" rel="noopener" href="https://www.microscopeworld.com/p-3341-microscope-c-mount-field-of-view.aspx">https://www.microscopeworld.com/p-3341-microscope-c-mount-field-of-view.aspx</a><br><a target="_blank" rel="noopener" href="https://www.microscopeworld.com/t-microscope_c-mounts.aspx">https://www.microscopeworld.com/t-microscope_c-mounts.aspx</a></p>
<p>In order to correct for the inherent magnification effect an adapter was purchased.<br>From these sources I was able to find that 0.3x to 0.5x is about correct for my sensor size</p>
<h2 id="Adapter-lens-selection"><a href="#Adapter-lens-selection" class="headerlink" title="Adapter lens selection"></a>Adapter lens selection</h2><p>AmScope RU050 0.5X Reduction Lens for C-mount Cameras FMA050 Cmount to 23mm adapter. This fits my AmScope T720B Scope</p>
<img src="/2023/02/20/Microscope-Camera/C_MOUNT_05X.jpg" style="width: 100%; height: 100%;"/>

<img src="/2023/02/20/Microscope-Camera/C_MOUNT_05X_2.jpg" style="width: 100%; height: 100%;"/>

<p><a target="_blank" rel="noopener" href="https://www.ebay.com/itm/141950389592">https://www.ebay.com/itm/141950389592</a></p>
<img src="/2023/02/20/Microscope-Camera/Dust.png" style="width: 100%; height: 100%;"/>
Picture of dust taken with the 0.5x adapter. It's hard to tell from the images above but the field of view is noticably larger. 

<h2 id="Enclosure"><a href="#Enclosure" class="headerlink" title="Enclosure"></a>Enclosure</h2><p> To protect the hardware I designed an enclouse </p>
<a href="/2023/02/20/Microscope-Camera/Microscope_Camera_Enclosure-Lid.stl" title="Microscope_Camera_Enclosure-Lid.stl">Microscope_Camera_Enclosure-Lid.stl</a>

<a href="/2023/02/20/Microscope-Camera/Microscope_Camera_Enclosure-Enclosure.stl" title="Microscope_Camera_Enclosure-Enclosure.stl">Microscope_Camera_Enclosure-Enclosure.stl</a>

<a href="/2023/02/20/Microscope-Camera/Microscope_Camera_Enclosure.FCStd" title="Microscope_Camera_Enclosure.FCStd">Microscope_Camera_Enclosure.FCStd</a>

<a href="/2023/02/20/Microscope-Camera/Microscope_Camera_Enclosure.FCStd1" title="Microscope_Camera_Enclosure.FCStd1">Microscope_Camera_Enclosure.FCStd1</a>

<h1 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h1><p>I had problems with Cheese constantly changing the exposure. Thankfully many have suffered from this issue before. I found this link that is specific to the raspberry pi but useful. <a target="_blank" rel="noopener" href="https://hackernoon.com/polising-raspberry-pi-high-quality-camera-3z113u18">https://hackernoon.com/polising-raspberry-pi-high-quality-camera-3z113u18</a><br>I had to use a more advanced pieace of software called qv4l2</p>
<p>To install on debian linux</p>
<p>sudo apt-get install qv4l2</p>
<img src="/2023/02/20/Microscope-Camera/V4L2.png" style="width: 100%; height: 100%;"/>

<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a target="_blank" rel="noopener" href="https://www.edmundoptics.com/knowledge-center/application-notes/microscopy/understanding-microscopes-and-objectives/">https://www.edmundoptics.com/knowledge-center/application-notes/microscopy/understanding-microscopes-and-objectives/</a><br><a target="_blank" rel="noopener" href="https://www.microscopeworld.com/p-3341-microscope-c-mount-field-of-view.aspx">https://www.microscopeworld.com/p-3341-microscope-c-mount-field-of-view.aspx</a><br><a target="_blank" rel="noopener" href="https://www.microscopeworld.com/t-microscope_c-mounts.aspx">https://www.microscopeworld.com/t-microscope_c-mounts.aspx</a><br><a target="_blank" rel="noopener" href="https://www.briandorey.com/post/raspberry-pi-high-quality-camera-on-the-microscope">https://www.briandorey.com/post/raspberry-pi-high-quality-camera-on-the-microscope</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Microscope-Selection"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2023/02/20/Microscope-Selection/">Microscope Selection</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2023/02/20/Microscope-Selection/" class="article-date">
	  <time datetime="2023-02-20T15:15:30.000Z" itemprop="datePublished">February 20, 2023</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Research"><a href="#Research" class="headerlink" title="Research"></a>Research</h1><p><a target="_blank" rel="noopener" href="https://www.reddit.com/r/microbiology/comments/q5h8vv/what_is_considered_a_great_microscope_in_todays/">https://www.reddit.com/r/microbiology/comments/q5h8vv/what_is_considered_a_great_microscope_in_todays/</a><br><a target="_blank" rel="noopener" href="https://www.edmundoptics.com/knowledge-center/application-notes/microscopy/understanding-microscopes-and-objectives/">https://www.edmundoptics.com/knowledge-center/application-notes/microscopy/understanding-microscopes-and-objectives/</a></p>
<h1 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h1><p>From the research above I was able to settle on the following requirements</p>
<ul>
<li>Greater than 1000X</li>
<li>Kohler light source</li>
<li>infinity corrected optics</li>
<li>Camera port</li>
</ul>
<h1 id="Selection"><a href="#Selection" class="headerlink" title="Selection"></a>Selection</h1><p>Amscope T720B <a target="_blank" rel="noopener" href="https://amscope.com/products/t720b-hc2">https://amscope.com/products/t720b-hc2</a></p>
<p>Infinity Corrected Optical System with High Resolution<br>Fully Coated Optics with Crystal Clear &amp; Sharp Images<br>Precise Mechanical Control System<br>Reversed Nosepiece Design<br>Kohler Illumination System with Field Diaphragm for Lighting Control<br>30-Degree Inclined, 360-Degree Swiveling, Compensation Free Trinocular Head<br>Eight Magnification Levels: 40X, 80X, 100X, 200X, 400X, 800X, 1000X, 2000X<br>Intensity-Variable Transmitted LED Lighting System<br>Abbe Condenser with Iris Diaphragm and Filter Holder<br>Rack and Pinion Adjustment for Condenser<br>Low Position Coaxial Stage Movement Controlling Knobs<br>Dual Side Coaxial Coarse and Fine Focusing Control<br>Adjustable Interpupillary Distance<br>Adjustable Diopter on Eyepieces<br>Durable Cast Alloy Frame with Stain Resistant Enamel Finish<br>Four Infinity Plan Objectives Included<br>Two Pairs of Extreme Widefield Eyepieces Included (EWF10X &amp; WF20X)<br>Quadruple, Reversed, Extra-Large Nosepiece with Wide, Knurled Grip for Easy Operation<br>Large Double Layer Mechanical Stage with Stain Resistant Coating<br>Upward Stage Limit Stop to Protect Objectives and Slides<br>Manufactured under ISO 9001 Quality Control Standards<br>Excellent Five (5) Year Factory Warranty</p>
<p>Specifications :<br>Optical System: infinity corrected<br>Nosepiece: reversed, ball bearing quadruple<br>Head: gemel type trinocular head, 30-degree inclined<br>Eyepiece: high eye-point eyepieces, WF10X22mm, WF20X<br>Objectives: infinity plan objective 4X, 10X, 40X (spring), 100X (spring, oil)<br>Focusing: low position coaxial focus system<br>Focusing Range: 1-3/16” (30mm)<br>Interpupillary Adjustment Range: 2-3/16” - 3” (55-75mm)<br>Mechanical Tube Length: 6-5/16” (160mm)<br>Mechanical Stage: 8.5” x 5.9” (216mm x 150mm)<br>Stage Traveling Range: 2.9” x 2” (75x50mm)<br>Focusing Rang: 0.95” (24mm)<br>Division of Fine Focusing: 0.00003935” (0.001mm)<br>Illuminator: Built-in Kohler LED illumination system<br>Condenser: N.A. 1.25 achromatic condenser<br>Illumination: Kohler, LED<br>Power Supply: 90V-240 wide voltage, CE certified<br>Built in measurement capabilities<br>Weight: 28 lbs</p>
<p>Packing List :<br>One Trinocular Compensation-Free Head<br>One Microscope Body with Frame, Base, and Kohler Illumination System<br>Four High Quality DIN Plan Achromatic Objectives: 4X, 10X, 40X and 100X<br>One Pair of Widefield Eyepieces: WF10X<br>One Pair of Widefield Eyepieces: WF20X<br>One Dust Cover<br>One HDMI camera<br>One HDMI cable<br>Immersion Oil<br>User’s Manual</p>
<h1 id="Purchasing"><a href="#Purchasing" class="headerlink" title="Purchasing"></a>Purchasing</h1><p>There is no reason pay top dollar for a microscope. You can find massive discounts on refunbised microscopes on ebay!<br><a target="_blank" rel="noopener" href="https://www.ebay.com/itm/381546384234?hash=item58d5efcb6a:g:9qkAAOSwPXFcFU2K">https://www.ebay.com/itm/381546384234?hash=item58d5efcb6a:g:9qkAAOSwPXFcFU2K</a></p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a target="_blank" rel="noopener" href="https://storage.googleapis.com/software-download-d79bb.appspot.com/Manual%20Download%20Files/Manual%20Files/Compound/720%20Series_Manual_151006.pdf">https://storage.googleapis.com/software-download-d79bb.appspot.com/Manual%20Download%20Files/Manual%20Files/Compound/720%20Series_Manual_151006.pdf</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-WLED-Degchi-Lamp"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/08/17/WLED-Degchi-Lamp/">WLED Degchi Lamp</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/08/17/WLED-Degchi-Lamp/" class="article-date">
	  <time datetime="2022-08-17T20:16:59.000Z" itemprop="datePublished">August 17, 2022</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>While traveling in India I came across these nice looking tin lamps. </p>
<img src="/2022/08/17/WLED-Degchi-Lamp/Degchi_Lamp.jpg" style="width: 90%;"/>

<p>It is sometimes called a Degchi lamp. Since I am not a fan of open flames so leds will have to fill in the role of a candle. This build will be a bit rough. I will refine the lamp in later posts.</p>
<h1 id="Parts"><a href="#Parts" class="headerlink" title="Parts"></a>Parts</h1><h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><h3 id="ESP8266"><a href="#ESP8266" class="headerlink" title="ESP8266"></a>ESP8266</h3><img src="/2022/08/17/WLED-Degchi-Lamp/ESP8266.jpg" style="width: 90%;"/>

<p><a target="_blank" rel="noopener" href="https://www.adafruit.com/product/2471">Esp8266 Huzzah</a></p>
<p><a target="_blank" rel="noopener" href="https://learn.adafruit.com/adafruit-huzzah-esp8266-breakout">Esp8266 Huzzah documentation</a></p>
<h3 id="Level-shifter"><a href="#Level-shifter" class="headerlink" title="Level shifter"></a>Level shifter</h3><img src="/2022/08/17/WLED-Degchi-Lamp/TXS0108E.jpg" style="width: 90%;"/>

<p><a target="_blank" rel="noopener" href="https://www.amazon.com/gp/product/B088LMJR5K/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&psc=1">GeeekPi 6Pack TXS0108E 8 Channel Logic Level Converter Bi-Directional High Speed Full Duplex Shifter 3.3V 5V for Arduino Raspberry Pi</a></p>
<h3 id="LED-Strip"><a href="#LED-Strip" class="headerlink" title="LED Strip"></a>LED Strip</h3><img src="/2022/08/17/WLED-Degchi-Lamp/sk6812.jpg" style="width: 90%;"/>

<p><a target="_blank" rel="noopener" href="https://smile.amazon.com/BTF-LIGHTING-Individually-Addressable-Flexible-Non-waterproof/dp/B01N0MA729/ref=sr_1_2?keywords=sk6812+led&qid=1659749420&sr=8-2">Led Strip</a></p>
<h3 id="Power-supply"><a href="#Power-supply" class="headerlink" title="Power supply"></a>Power supply</h3><img src="/2022/08/17/WLED-Degchi-Lamp/Power_Supply_5V_10A.jpg" style="width: 90%;"/>

<p><a target="_blank" rel="noopener" href="https://www.amazon.com/gp/product/B01M0KLECZ/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&psc=1">5v 10 amp power upply with barrel plug</a></p>
<h3 id="Plug"><a href="#Plug" class="headerlink" title="Plug"></a>Plug</h3><img src="/2022/08/17/WLED-Degchi-Lamp/Barrel_Plug.jpg" style="width: 90%;"/>

<p><a target="_blank" rel="noopener" href="https://www.amazon.com/Power-Connector-Female-Adapter-Camera/dp/B07C61434H/ref=sr_1_3?crid=1C8THCD6688TZ&keywords=barrel+plugs&qid=1659770244&sprefix=barel+plugs,aps,92&sr=8-3">Barrel plug</a></p>
<h1 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h1><h2 id="WLED"><a href="#WLED" class="headerlink" title="WLED"></a>WLED</h2><p><a target="_blank" rel="noopener" href="https://github.com/Aircoookie/WLED">wled</a></p>
<h3 id="Binary"><a href="#Binary" class="headerlink" title="Binary"></a>Binary</h3><p><a target="_blank" rel="noopener" href="https://github.com/Aircoookie/WLED/releases/download/v0.13.1/WLED_0.13.1_ESP8266.bin">Wled binary</a></p>
<h1 id="Flashing"><a href="#Flashing" class="headerlink" title="Flashing"></a>Flashing</h1><p>You will need a 3.3v usb to serial adapter. An FTDI based usb to serial adapteris perfered. </p>
<p><a target="_blank" rel="noopener" href="https://docs.espressif.com/projects/esptool/en/latest/esp32/">https://docs.espressif.com/projects/esptool/en/latest/esp32/</a><br>Method 2 <a target="_blank" rel="noopener" href="https://kno.wled.ge/basics/install-binary/">https://kno.wled.ge/basics/install-binary/</a> </p>
<h2 id="Connections"><a href="#Connections" class="headerlink" title="Connections"></a>Connections</h2><img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_041807877.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_041838804.jpg" style="width: 90%;"/>

<p>Connection between the usb to serial adapter and the ESP8266.</p>
<ul>
<li>Logic Level set to 3.3V</li>
<li>ESP -&gt; FTDI</li>
<li>TX -&gt; RX</li>
<li>RX -&gt; TX</li>
<li>VCC -&gt; 5V</li>
<li>GND -&gt; GND</li>
</ul>
<h2 id="Operating-system-permission-workarounds"><a href="#Operating-system-permission-workarounds" class="headerlink" title="Operating system permission workarounds"></a>Operating system permission workarounds</h2><p>In order to write data to ttyUSB or other serieal ports you must be a member of the dialout group. </p>
<pre><code>sudo usermod -a -G dialout your_user_name

Log out log in

sudo esptool.py -p ttyUSB0sudo esptool.py -p ttyUSB0 write_flash 0x0 ./WLED_0.13.1_ESP8266.bin</code></pre>
<h1 id="Electronics"><a href="#Electronics" class="headerlink" title="Electronics"></a>Electronics</h1><h2 id="Schematic"><a href="#Schematic" class="headerlink" title="Schematic"></a>Schematic</h2><p><br></br><br><img src="/2022/08/17/WLED-Degchi-Lamp/Degchi-Lamp-Electronics.png" style="width: 90%;"/><br><br></br></p>
<h2 id="Electronics-Rough-Fit"><a href="#Electronics-Rough-Fit" class="headerlink" title="Electronics Rough Fit"></a>Electronics Rough Fit</h2><p>Playing around with the electronics to confirm that the design works as expected.</p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_030411413.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_030424508.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_030434512.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_030451769.jpg" style="width: 90%;"/>

<p>Everything is hooked up but the lights are not working. </p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_030508542.jpg" style="width: 90%;"/>

<p>Discovered that the OE pin on the TXS0108E needs to be pulled high to VA (ESP Logic Level High 3.3V)</p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_041756325.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_212503830.jpg" style="width: 90%;"/>


<h1 id="Physical-Construction"><a href="#Physical-Construction" class="headerlink" title="Physical Construction"></a>Physical Construction</h1><h2 id="Lamp"><a href="#Lamp" class="headerlink" title="Lamp"></a>Lamp</h2><h2 id="Test-Fit"><a href="#Test-Fit" class="headerlink" title="Test Fit"></a>Test Fit</h2><p>Lets see how everything could fit inside the lamp. Who cares how it looks at the moment. We will polish it later. </p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220730_005652066.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220730_005656922.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220730_005704671.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220729_224801450.jpg" style="width: 90%;"/>

<h2 id="Electronics-Enclosure"><a href="#Electronics-Enclosure" class="headerlink" title="Electronics Enclosure"></a>Electronics Enclosure</h2><h3 id="FreeCad-Model"><a href="#FreeCad-Model" class="headerlink" title="FreeCad Model"></a>FreeCad Model</h3><a href="/2022/08/17/WLED-Degchi-Lamp/Degchi_Lamp_Enclosure.FCStd" title="Degchi_Lamp_Enclosure.FCStd">Degchi_Lamp_Enclosure.FCStd</a>

<img src="/2022/08/17/WLED-Degchi-Lamp/FreeCad.png" style="width: 90%;"/>

<p>First atttempt to create a quick enclosure. </p>
<img src="/2022/08/17/WLED-Degchi-Lamp/Degchi_Lamp.png" style="width: 90%;"/>

<p>View of the enclosure lid.</p>
<h3 id="Enclosure-STLs"><a href="#Enclosure-STLs" class="headerlink" title="Enclosure STLs"></a>Enclosure STLs</h3><a href="/2022/08/17/WLED-Degchi-Lamp/Degchi_Lamp_Enclosure-Degchi_Lamp_Electronics_Enclosure.stl" title="Degchi_Lamp_Enclosure-Degchi_Lamp_Electronics_Enclosure.stl">Degchi_Lamp_Enclosure-Degchi_Lamp_Electronics_Enclosure.stl</a>
<p>Enclosure Main Body</p>
<a href="/2022/08/17/WLED-Degchi-Lamp/Degchi_Lamp_Enclosure-Degchi_Lamp_Electronics_Cover.stl" title="Degchi_Lamp_Enclosure-Degchi_Lamp_Electronics_Cover.stl">Degchi_Lamp_Enclosure-Degchi_Lamp_Electronics_Cover.stl</a>
<p>Enclosure Main Body</p>
<h3 id="Enclosure-Assembly"><a href="#Enclosure-Assembly" class="headerlink" title="Enclosure Assembly"></a>Enclosure Assembly</h3><img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220809_193334453.jpg" style="width: 90%;"/>

<p>1 amp Fuse</p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220809_193337120.jpg" style="width: 90%;"/>

<p>All the electronics seem to fit. A more professional version will be created when I get the parts.</p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220809_193339631.jpg" style="width: 90%;"/>

<p>Forcing all the electronics into the enclosure.</p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220809_193658141.jpg" style="width: 90%;"/>

<p>Everything is coming together.</p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220809_193854465.jpg" style="width: 90%;"/>

<p>Power on testing</p>
<h2 id="Led-Mounts"><a href="#Led-Mounts" class="headerlink" title="Led Mounts"></a>Led Mounts</h2><p>The inside of the lamp is coated in a thick non conductive coating. For the time being the led strip is just placed inside the lamp body.</p>
<h1 id="Connecting-to-WIFI"><a href="#Connecting-to-WIFI" class="headerlink" title="Connecting to WIFI"></a>Connecting to WIFI</h1><p>WLED 13.1 has some trouble connecting to wifi networks. </p>
<ul>
<li><p>Set wifi control channel to a fixed channel. e.g 1</p>
</li>
<li><p>Change channel width to 20 Mhz</p>
</li>
<li><p>Bind to static ip in router</p>
</li>
<li><p>Add the same static ip in wled wifi settings </p>
</li>
</ul>
<h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1><img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220809_195121212.jpg" style="width: 90%;"/>

<p>I am not a fan of this very large black power cable. I will replace the power cord with USB-C.<br>After measuring the power usage of the lamp at peak load it looks like USB-C is a good option. Peak load 0.6 Amps<br>This will be covered in a follow up article. </p>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220811_025451240.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220811_025516535.jpg" style="width: 90%;"/>
<br></br>
<img src="/2022/08/17/WLED-Degchi-Lamp/PXL_20220811_025517876.jpg" style="width: 90%;"/>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Electronics/" rel="tag">Electronics</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hyperion/" rel="tag">Hyperion</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LED/" rel="tag">LED</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RestAPI/" rel="tag">RestAPI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WLED/" rel="tag">WLED</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-TP-Link-U3T-Ubuntu"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/03/11/TP-Link-U3T-Ubuntu/">TP Link U3T Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2021/03/11/TP-Link-U3T-Ubuntu/" class="article-date">
	  <time datetime="2021-03-11T10:10:00.000Z" itemprop="datePublished">March 11, 2021</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>This device has the rtl8812bu chipset and you willneed to do a little more work to get it working.<br>Thankfully there is a working driver available for it here: <a target="_blank" rel="noopener" href="https://github.com/cilynx/rtl88x2bu">https://github.com/cilynx/rtl88x2bu</a></p>
<p>To get it working, you will need to first install some packages and check out the Git repo:</p>
<pre><code>sudo apt-get install build-essential dkms git
git clone https://github.com/cilynx/rtl88x2bu.git</code></pre>
<p>Then follow the instructions here to install the driver:</p>
<pre><code>cd rtl88x2bu
VER=$(sed -n &#39;s/\PACKAGE_VERSION=&quot;\(.*\)&quot;/\1/p&#39; dkms.conf)
sudo rsync -rvhP ./ /usr/src/rtl88x2bu-$&#123;VER&#125;
sudo dkms add -m rtl88x2bu -v $&#123;VER&#125;
sudo dkms build -m rtl88x2bu -v $&#123;VER&#125;
sudo dkms install -m rtl88x2bu -v $&#123;VER&#125;
sudo modprobe 88x2bu</code></pre>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/1230788/ubuntu-20-04-issues-with-tp-link-ac1300-archer-t4u">Ask Ubuntu</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fixes/" rel="tag">Fixes</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Rigol-DS1052E-Oscilloscope-Encoder-Repair"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/">Rigol DS1052E Oscilloscope Encoder Repair</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/" class="article-date">
	  <time datetime="2020-10-19T02:42:26.000Z" itemprop="datePublished">October 18, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Broken-encoder"><a href="#Broken-encoder" class="headerlink" title="Broken encoder"></a>Broken encoder</h3><img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_102529.jpg" class="">

<p>I dropped my trusty Rigol scope off of the table while testing. The trigger encoder knob broke off.</p>
<h3 id="Replacement-part"><a href="#Replacement-part" class="headerlink" title="Replacement part"></a>Replacement part</h3><img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_105513.jpg" class="">

<p>After a bit of googling I was able to locate the part number. This is a very popular scope with hobbyist so this information was not all that hard to find. </p>
<h3 id="Opening-the-case"><a href="#Opening-the-case" class="headerlink" title="Opening the case"></a>Opening the case</h3><img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_102830.jpg" class="">

<p>The screws that hold the case on are Trox or star drive. There are 6 screws. Two screws on the bottom near the feet, two screws under the handle, and two screws on either side of the power socket.</p>
<p>WARNING: Do not forget to remove the power button. If you try the case with the power button still in place the switch will snap off. The power button can be removed by pulling it upwards. </p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_103039.jpg" class="">

<p>You will need an extension bit to get at the screws under the handle</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_103144.jpg" class="">

<p>Do not forget about the screws on the side</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_103946.jpg" class="">

<p>Back case removed</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_104202.jpg" class="">

<p>Once the case is removed, unscrew the standoffs on either side of the serial interface (DB9).<br>Lift off the metal rf sheild</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_105641.jpg" class="">

<p>You will need to remove all the screws inside of the case. All The power supply board must be removed<br>Disconnect the power supply board. Watch out for the LCD lamp power cable (Red/White cable with JST connector)</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_105938.jpg" class="">

<p>You will need to disconnect the white ribbion cable from the board at the bottom of the unit.</p>
<p>The front case panel can now be removed. </p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_105555.jpg" class="">

<p>Power supply board. Power switch</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_105710.jpg" class="">

<p>Front case panel removed. Picture of the 3 screws holding on the user control board.<br>These will need to be removed.</p>
<h3 id="Replacing-the-encoder"><a href="#Replacing-the-encoder" class="headerlink" title="Replacing the encoder"></a>Replacing the encoder</h3><img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_105840.jpg" class="">

<p>Boken encoder next to replacement encoder.</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_110115.jpg" class="">

<p>Bottom of the user control board. Unsoldering required.<br>WARNING: Rigol uses lead free solder. Only use lead free solder. If you mix leaded solder and lead free solder a new alloy with a higher melting point will be formed. Good luck removing that!</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_113918.jpg" class="">

<p>Desoldered encoder</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_113955.jpg" class="">

<p>Replacement encoder</p>
<img src="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/20201006_121807.jpg" class="">

<p>Put everything back together</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Electrical/" rel="tag">Electrical</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fixes/" rel="tag">Fixes</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-CNC-Enclosure-Door"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/12/26/CNC-Enclosure-Door/">CNC Enclosure Door</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/12/26/CNC-Enclosure-Door/" class="article-date">
	  <time datetime="2019-12-26T23:50:50.000Z" itemprop="datePublished">December 26, 2019</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Parts"><a href="#Parts" class="headerlink" title="Parts"></a>Parts</h1><h2 id="Magnetic-Door-LAtch"><a href="#Magnetic-Door-LAtch" class="headerlink" title="Magnetic Door LAtch"></a>Magnetic Door LAtch</h2><a href="/2019/12/26/CNC-Enclosure-Door/DoorMagnetLatchMount.scad" title="DoorMagnetLatchMount.scad">DoorMagnetLatchMount.scad</a>
<a href="/2019/12/26/CNC-Enclosure-Door/DoorMagnetLatchMount.stl" title="DoorMagnetLatchMount.stl">DoorMagnetLatchMount.stl</a>

<h2 id="Handle"><a href="#Handle" class="headerlink" title="Handle"></a>Handle</h2><a href="/2019/12/26/CNC-Enclosure-Door/ENCLOSURE_HANDLE.zip" title="ENCLOSURE_HANDLE.zip">ENCLOSURE_HANDLE.zip</a>
<a href="/2019/12/26/CNC-Enclosure-Door/MU_HANDLE.3mf" title="MU_HANDLE.3mf">MU_HANDLE.3mf</a>

<h2 id="Hinges"><a href="#Hinges" class="headerlink" title="Hinges"></a>Hinges</h2><a href="/2019/12/26/CNC-Enclosure-Door/parametric_butt_hinge_3.7.scad" title="parametric_butt_hinge_3.7.scad">parametric_butt_hinge_3.7.scad</a>
<a href="/2019/12/26/CNC-Enclosure-Door/parametric_butt_hinge_7.stl" title="parametric_butt_hinge_7.stl">parametric_butt_hinge_7.stl</a>

<h1 id="Mounting-the-Door"><a href="#Mounting-the-Door" class="headerlink" title="Mounting the Door"></a>Mounting the Door</h1><img src="/2019/12/26/CNC-Enclosure-Door/20200110_145308.jpg" style="width: 60%;"/>
<img src="/2019/12/26/CNC-Enclosure-Door/20200110_145251.jpg" style="width: 60%;"/>
<img src="/2019/12/26/CNC-Enclosure-Door/20200110_145254.jpg" style="width: 60%;"/>
3d Printed Magnetic Latch mount

<img src="/2019/12/26/CNC-Enclosure-Door/20191226_203758.jpg" style="width: 60%;"/>
3d Printed Hinges

<img src="/2019/12/26/CNC-Enclosure-Door/20200111_140324.jpg" style="width: 60%;"/>
<img src="/2019/12/26/CNC-Enclosure-Door/20200111_140316.jpg" style="width: 60%;"/>
<img src="/2019/12/26/CNC-Enclosure-Door/20200111_140331.jpg" style="width: 60%;"/>
Determining the correct drilling points with a punch

<img src="/2019/12/26/CNC-Enclosure-Door/20191226_185050.jpg" style="width: 60%;"/>
Drilling Hinge Mounting Holes

<img src="/2019/12/26/CNC-Enclosure-Door/20200111_150517.jpg" style="width: 60%;"/>
<img src="/2019/12/26/CNC-Enclosure-Door/20200111_150509.jpg" style="width: 60%;"/>
Mounting the door with the hinges

<img src="/2019/12/26/CNC-Enclosure-Door/20200111_150458.jpg" style="width: 60%;"/>
Door Mounted to Hinges










      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CNC/" rel="tag">CNC</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Grub-Boot-Loader-Not-Found"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/12/23/Grub-Boot-Loader-Not-Found/">Grub Boot Loader Not Found</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/12/23/Grub-Boot-Loader-Not-Found/" class="article-date">
	  <time datetime="2019-12-23T19:41:32.000Z" itemprop="datePublished">December 23, 2019</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Insert Grub console picture here </p>
<p>run the following commands </p>
<ul>
<li>ls</li>
</ul>
<p>Will show you all the drive parations </p>
<p>(hd0,gpt1)</p>
<ul>
<li>ls (hdo,gpt1)/</li>
</ul>
<p>Will give you a listing of all the files on the dive</p>
<ul>
<li>Find the drive that contains /boot</li>
</ul>
<p>(hd0,gpt1)/boot</p>
<ul>
<li>locate the grub.cfg</li>
</ul>
<p>configfile /PathToFile/grub.cfg</p>
<p>configfile (hd0,gpt1)/boot/grub/grub.cfg</p>
<ul>
<li><p>Grub boot menu should start.</p>
</li>
<li><p>Kernel is now running</p>
</li>
<li><p>Fix any broken packages<br>dpkg –configure -a</p>
</li>
<li><p>Check systemctl</p>
</li>
<li><p>Look for any errors that may have occured.</p>
</li>
<li><p>Fix any filesystem errors that may have occures</p>
</li>
<li><p>look in /dev/disk/by-uuid</p>
</li>
<li><p>Perform fsck on any drives that require a repair.<br>fsck /dev/disk/by-uuid/abc456</p>
</li>
<li><p>Often the grub loader cannot find the efi file</p>
</li>
<li><p>sudo apt install grub-efi-amd64</p>
</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fixes/" rel="tag">Fixes</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Numpy-LeNet-5-with-ADAM"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/05/10/Numpy-LeNet-5-with-ADAM/">Numpy LeNet 5 with ADAM</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/05/10/Numpy-LeNet-5-with-ADAM/" class="article-date">
	  <time datetime="2019-05-10T14:15:12.000Z" itemprop="datePublished">May 10, 2019</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>John W Grun</p>
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image3.png" class="">

<h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>In this paper, a manually implemented LeNet-5 convolutional NN with an Adam optimizer written in Numpy will be presented. This paper will also cover a description of the data used to train and test the network,technical details of the implementation, the methodology of training the network and determining hyper parameters, and present the results of the effort.</p>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>LeNet-5 was created by Yuan Lecun and described  in the paper “Gradient-Based Learning Applied To Document Recognition” . LeNet-5 was one of the first convolutional neural networks used on a large scale to automatically classify hand-written digits on bank checks in the United States. Prior to LeNet, most character recognition was done by using feature engineering by hand, followed by a simple machine learning model like K nearest neighbors (KNN) or Support Vector Machines (SVM). LeNet made hand engineering features redundant, because the network learns the best internal representation from training images automatically.</p>
<p>This paper will cover some of the technical details of a manual Numpy implementation of LeNet-5 convolutional Neural Network including the details about the  training set, structure of the lenet-5 CNN, weights and biases initialization, optimizer, gradient descent, the loss function, and speed enhancements. The paper will also cover the methodology used during training and selecting hyperparameters as well as the performance on the test dataset.</p>
<h1 id="Related-work"><a href="#Related-work" class="headerlink" title="Related work"></a>Related work</h1><p>There are numerous examples of numpy implementations of LeNet 5 found across the internet but, none with more significance than any other. Lenet-5 is now a common architecture used to teach new students fundamental concepts of convolutional neural network</p>
<h1 id="Data-Description"><a href="#Data-Description" class="headerlink" title="Data Description"></a>Data Description</h1><img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image2.png" class="">
<p>The MNIST database of handwritten digits, contains a training set of 60,000 examples, and a test set of 10,000 examples. Each example is a 28 x 28 pixel grayscale image.<br>All training and test examples of the MNIST  were converted from gray scale images to bilevel representation to simplify the function the CNN needed to learn. Only pixel positional information is required to correctly classify digits, while grayscale offers no useful additional information and only aids in increasing complexity. The labels of both the test and training examples were converted to one hot vectors to make them compatible with the softmax output and cross entropy loss function.  Both indexes of the training and test sets were further randomized to ensure each batch was a random distribution of all 10 classes.</p>
<h1 id="Model-Description"><a href="#Model-Description" class="headerlink" title="Model Description"></a>Model Description</h1><h2 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h2><img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image3.png" class="">
<p>The model is  a implementation of LeNet 5 with the following structure:</p>
<ul>
<li>Input 28 x 28</li>
<li>Convolutional layer (Pad =  2 , Stride = 1, Activation = ReLu, Filters = 6, Size = 5)</li>
<li>Max Pool (Filter = 2, Stride = 2)</li>
<li>Convolutional layer  (Pad =  0 , Stride = 1, Activation = ReLu, Filters = 16 )</li>
<li>Max Pool (Filter = 2, Stride = 2)</li>
<li>Convolutional layer  (Pad =  0 , Stride = 1, Activation = ReLu, Filters = 120)</li>
<li>Fully Connected ( Size = 120, Activation = ReLu)</li>
<li>Fully Connected (Size = 84, Activation = ReLu)</li>
<li>Soft Max (  10 Classes )</li>
</ul>
<h2 id="Weight-and-bias-initialization"><a href="#Weight-and-bias-initialization" class="headerlink" title="Weight and bias initialization"></a>Weight and bias initialization</h2><p>Since the  original lenet-5 predates many of the more optimal weight initialization schemes such as Xavier or HE initialization, the weights were initialized with numpy random.randn while biases were zero filled with numpy zeros.</p>
<h2 id="Optimizer"><a href="#Optimizer" class="headerlink" title="Optimizer"></a>Optimizer</h2><p>At first a constant learning  rate optimizer was used for this network but, stable convergence required a very small learning rate. This small learning rate required a very long training time to achieve a reasonable accuracy on the test set. The constant learning rate optimizer was replaced with a numpy implementation of the ADAM optimizer. ADAM allowed for the use of higher learning rate that resulted in quicker and smoother convergence. The formulas that describe ADAM are shown below:</p>
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image8.png" class="">
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image1.png" class="">
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image4.png" class="">
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image11.png" class="">
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image9.png" class="">

<h1 id="Gradient-Descent"><a href="#Gradient-Descent" class="headerlink" title="Gradient Descent"></a>Gradient Descent</h1><p>This implementation of LeNet-5 uses Mini-batch gradient descent. Mini-batch gradient descent is a trade-off between stochastic gradient descent (training on 1 sample at a time) and gradient descent (training on the entire training set).  In mini-batch gradient descent, the cost function (and therefore gradient) is averaged over a small number of samples. Mini batch gradient descent was selected due to its increased convergence rate and the ability to escape local minimum.</p>
<h2 id="Loss-function"><a href="#Loss-function" class="headerlink" title="Loss function"></a>Loss function</h2><p>LeNet 5 produces a 10 class categorical output representing the numbers 0 to 9.  The original LeNEt-5 used Maximum a posteriori (MAP) as the loss loss function. Cross-entropy was chosen as the loss function in this implementation instead of MAP since cross entropy appears to be the dominant loss function for similar classification problems and source code was available to check against. The formula for cross entropy loss is given below:</p>
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image10.png" class="">

<h2 id="Speed-Enhancements"><a href="#Speed-Enhancements" class="headerlink" title="Speed Enhancements"></a>Speed Enhancements</h2><p>To train the CNN in a reasonable amount of time several performance enhancements had to be made.</p>
<img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image7.png" class="">
<p>The python profiler was used to identify locations in the code that would have the largest effect on performance. The convolutional and max pooling layers consumed the majority of the running time. The running time  of the convolutional and max pool layers was decreased by first converting the single threaded functions into multithreaded functions. Processing was divided up equally across the number of threads. Once threading was confirmed to be working properly, the Numba Just in Time compiler (JIT) was employed to convert python functions into native code. Numba JIT was then liberally applied throughout the code.  These enhancements reduced the training time from over 1 day to a few hours, constituting a 6-8x speed up on average.</p>
<h1 id="Method-Description-And-Experimental-Procedure"><a href="#Method-Description-And-Experimental-Procedure" class="headerlink" title="Method Description And Experimental Procedure"></a>Method Description And Experimental Procedure</h1><p>The LeNet 5 model implementation  was trained on the MNIST dataset. After each training, the training loss versus epoch was plotted. The learning rate was decreased until the training loss vs epochs was a monotonically decreasing function. The number of epochs was selected to minimize the training loss while the training loss continued to decrease with every training epoch. Adjustments to the epochs sometimes also required adjustments to the learning rate to keep the training loss vs epoch a monotonically decreasing function.<br>In addition to the training loss, the prediction accuracy was computed. The accuracy was computed by the following method:<br>The input images were forward propagated through the network with the weights and biases learned during training. The class with the largest magnitude was selected as the prediction. The predicted class was compared to the label for a given input image. The percentage of correct predictions was computed across all  input images forward propagated through the network.<br>The prediction accuracy was computed for both the  training and testing sets . In a well trained network (one not underfitting or overfitting ) the test prediction accuracy should be close to the training prediction accuracy. If the training prediction accuracy is far greater than the test prediction accuracy  it is a sign the network is overfitting on the training data and failing to generalize well.<br>The batch size was selected primary upon the cache limitations of the processor. A batch size of around 32 was determined to be small enough to fit in cache while also large enough to reduce overhead from thread context switching.</p>
<h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1><h2 id="Hyper-parameters"><a href="#Hyper-parameters" class="headerlink" title="Hyper parameters"></a>Hyper parameters</h2><p>The hyper parameters for this numpy implementation of LeNet 5 are as follows:</p>
<ul>
<li>Epochs = 20</li>
<li>Learning rate = 0.0002</li>
<li>Batch = 32</li>
</ul>
<h2 id="Training-time"><a href="#Training-time" class="headerlink" title="Training time"></a>Training time</h2><p>The total training time was brought down from 26 hours to train on the entire training set of 60000 examples to only 2.75 hours after applying speed enhancements.</p>
<h2 id="Training-loss"><a href="#Training-loss" class="headerlink" title="Training loss"></a>Training loss</h2><img src="/2019/05/10/Numpy-LeNet-5-with-ADAM/image12.png" class="">

<p>The training loss of LeNet-5 as plotted over 20 epochs. The training loss is monotonically decreasing indicating the network is effectively learning to differentiate between the ten classes in the MNIST dataset.</p>
<h2 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy"></a>Accuracy</h2><p>Accuracy on test set = 95.07%<br>Accuracy on Train set = 94.90%<br>The Lenet-5 implementation achieved a high accuracy on the test and train sets without a significant difference in prediction accuracy between the train and test sets which would be an indication of overfitting.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>A Lenet 5 Convolutional Neural Network has been implemented only using Numpy that yields prediction accuracies over 95% on the test set. The network was trained on all 60000 examples found in the MNIST dataset and tested against the 10000 examples in the MNIST test set. The network used the standard LeNet Architecture with modifications where required. To decrease convergence time, a numpy ADAM optimizer was written. Several speed enhancements such as multi threading and just in time compilation were employed to decrease training time to a reasonable period.</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p>[1] Lavorini, Vincenzo. “Speeding up Your Code (4): in-Time Compilation with Numba.” <em>Medium</em>, Medium, 6 Mar. 2018, medium.com/@vincenzo.lavorini/speeding-up-your-code-4-in-time-compilation-with-numba-177d6849820e.<br>[2] “Convolutional Neural Networks.” <em>Coursera</em>, <a target="_blank" rel="noopener" href="http://www.coursera.org/learn/convolutional-neural-networks">www.coursera.org/learn/convolutional-neural-networks</a>.<br>[3] LeCun, Yann. <em>MNIST Demos on Yann LeCun’s Website</em>, yann.lecun.com/exdb/lenet/.<br>[4] Lecun, Y., Bottou, L., Bengio, Y., &amp; Haffner, P. (1998). <em>Gradient-based learning applied to document recognition. Proceedings of the IEEE, 86(11), 2278–2324.</em> doi:10.1109/5.726791<br>[5]  “MNIST Database.” Wikipedia, Wikimedia Foundation, 11 Apr. 2019, en.wikipedia.org/wiki/MNIST_database.<br>[6] “Cross Entropy.” Wikipedia, Wikimedia Foundation, 8 May 2019, en.wikipedia.org/wiki/Cross_entropy.<br>[7] “Stochastic Gradient Descent.” Wikipedia, Wikimedia Foundation, 29 Mar. 2019, en.wikipedia.org/wiki/Stochastic_gradient_descent.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Computing/" rel="tag">Computing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/" rel="tag">Machine Learning</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Research/" rel="tag">Research</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-QuadCopterBumbleBee"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/01/20/QuadCopterBumbleBee/">QuadCopterBumbleBee</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/01/20/QuadCopterBumbleBee/" class="article-date">
	  <time datetime="2019-01-20T16:08:15.000Z" itemprop="datePublished">January 20, 2019</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="BumbleBee-Quad-Copter"><a href="#BumbleBee-Quad-Copter" class="headerlink" title="BumbleBee Quad Copter"></a>BumbleBee Quad Copter</h1><h2 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h2><h3 id="BumbleBee"><a href="#BumbleBee" class="headerlink" title="BumbleBee"></a>BumbleBee</h3><h3 id="Frame-Configuration"><a href="#Frame-Configuration" class="headerlink" title="Frame Configuration"></a>Frame Configuration</h3><p>Quad X </p>
<img src="/2019/01/20/QuadCopterBumbleBee/MOTORS_QuadX_QuadPlus.jpg" class="">

<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><h3 id="Readytosky-Pixhawk-PX4-Flight-Controller-Autopilot-PIX-2-4-8-32-Bit-Flight-Control-Board-Safety-Switch-Buzzer-I2C-Splitter-Expand-Module-16GB-SD-Card"><a href="#Readytosky-Pixhawk-PX4-Flight-Controller-Autopilot-PIX-2-4-8-32-Bit-Flight-Control-Board-Safety-Switch-Buzzer-I2C-Splitter-Expand-Module-16GB-SD-Card" class="headerlink" title="Readytosky Pixhawk PX4 Flight Controller Autopilot PIX 2.4.8 32 Bit Flight Control Board+Safety Switch+Buzzer+I2C Splitter Expand Module+16GB SD Card"></a>Readytosky Pixhawk PX4 Flight Controller Autopilot PIX 2.4.8 32 Bit Flight Control Board+Safety Switch+Buzzer+I2C Splitter Expand Module+16GB SD Card</h3><img src="/2019/01/20/QuadCopterBumbleBee/Controller1.jpg" class="">

<h2 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h2><h3 id="Readytosky-M8N-GPS-Module-Built-in-Compass-Protective-Case-with-GPS-Antenna-Mount-for-Standard-Pixhawk-2-4-6-2-4-8-Flight-Controller"><a href="#Readytosky-M8N-GPS-Module-Built-in-Compass-Protective-Case-with-GPS-Antenna-Mount-for-Standard-Pixhawk-2-4-6-2-4-8-Flight-Controller" class="headerlink" title="Readytosky M8N GPS Module Built-in Compass Protective Case with GPS Antenna Mount for Standard Pixhawk 2.4.6 2.4.8 Flight Controller"></a>Readytosky M8N GPS Module Built-in Compass Protective Case with GPS Antenna Mount for Standard Pixhawk 2.4.6 2.4.8 Flight Controller</h3><img src="/2019/01/20/QuadCopterBumbleBee/GPS4.jpg" class="">

<h2 id="Remote-Control"><a href="#Remote-Control" class="headerlink" title="Remote Control"></a>Remote Control</h2><h3 id="Turnigy-TGY-I6"><a href="#Turnigy-TGY-I6" class="headerlink" title="Turnigy TGY-I6"></a>Turnigy TGY-I6</h3><h2 id="PWM-To-PPM-Conversion"><a href="#PWM-To-PPM-Conversion" class="headerlink" title="PWM To PPM Conversion"></a>PWM To PPM Conversion</h2><h3 id="usmile-PPM-Encoder-With-10pin-Input-amp-4pin-Output-Cable-For-Pixhawk-PPZ-MK-MWC-Pirate-Flight-Control"><a href="#usmile-PPM-Encoder-With-10pin-Input-amp-4pin-Output-Cable-For-Pixhawk-PPZ-MK-MWC-Pirate-Flight-Control" class="headerlink" title="usmile PPM Encoder With 10pin Input &amp; 4pin Output Cable For Pixhawk/PPZ/MK/MWC/Pirate Flight Control"></a>usmile PPM Encoder With 10pin Input &amp; 4pin Output Cable For Pixhawk/PPZ/MK/MWC/Pirate Flight Control</h3><img src="/2019/01/20/QuadCopterBumbleBee/PPM_Encoder7.jpg" class="">

<h2 id="Motor-Controllers"><a href="#Motor-Controllers" class="headerlink" title="Motor Controllers"></a>Motor Controllers</h2><h3 id="Turnigy-MultiStar-V-20"><a href="#Turnigy-MultiStar-V-20" class="headerlink" title="Turnigy MultiStar V.20"></a>Turnigy MultiStar V.20</h3><p>Internal BEC provides 5V to the rest of the system<br>WARNING: If using ESC BECs to power your system you may need to disconnect all but one of the 5 volt connections from the ESC BEC. Only 1 power source! </p>
<h2 id="Power"><a href="#Power" class="headerlink" title="Power"></a>Power</h2><p>3300 mAH Battery </p>
<h2 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h2><h2 id="Firmware"><a href="#Firmware" class="headerlink" title="Firmware"></a>Firmware</h2><h3 id="Ardupilot"><a href="#Ardupilot" class="headerlink" title="Ardupilot"></a>Ardupilot</h3><p><a target="_blank" rel="noopener" href="http://ardupilot.org/">http://ardupilot.org/</a></p>
<h2 id="Mission-Planner-Ground-Control"><a href="#Mission-Planner-Ground-Control" class="headerlink" title="Mission Planner ( Ground Control )"></a>Mission Planner ( Ground Control )</h2><h3 id="APM-Planner-V2-0"><a href="#APM-Planner-V2-0" class="headerlink" title="APM Planner V2.0"></a>APM Planner V2.0</h3><p><a target="_blank" rel="noopener" href="http://ardupilot.org/planner2/">http://ardupilot.org/planner2/</a></p>
<h2 id="Pictures"><a href="#Pictures" class="headerlink" title="Pictures"></a>Pictures</h2><h2 id="Frame-1"><a href="#Frame-1" class="headerlink" title="Frame"></a>Frame</h2><h3 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h3><img src="/2019/01/20/QuadCopterBumbleBee/20190119_164818.jpg" class="">

<h2 id="Motor-Connections"><a href="#Motor-Connections" class="headerlink" title="Motor Connections"></a>Motor Connections</h2><h3 id="Front-Left"><a href="#Front-Left" class="headerlink" title="Front Left"></a>Front Left</h3><img src="/2019/01/20/QuadCopterBumbleBee/20190119_164831.jpg" class="">

<h3 id="Front-Right"><a href="#Front-Right" class="headerlink" title="Front Right"></a>Front Right</h3><img src="/2019/01/20/QuadCopterBumbleBee/20190119_164842.jpg" class="">

<h3 id="Rear-Left"><a href="#Rear-Left" class="headerlink" title="Rear Left"></a>Rear Left</h3><img src="/2019/01/20/QuadCopterBumbleBee/20190119_164852.jpg" class="">

<h3 id="Rear-Right"><a href="#Rear-Right" class="headerlink" title="Rear Right"></a>Rear Right</h3><img src="/2019/01/20/QuadCopterBumbleBee/20190119_164848.jpg" class="">

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a target="_blank" rel="noopener" href="https://github.com/JohnGrun" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a target="_blank" rel="noopener" href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a target="_blank" rel="noopener" href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a target="_blank" rel="noopener" href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a target="_blank" rel="noopener" href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a target="_blank" rel="noopener" href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a target="_blank" rel="noopener" href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2023/04/16/MQTT-K8s-Setup-on-Ubuntu-20-04/">MQTT K8s Setup on Ubuntu 20.04</a></h6>
              <span>April 16, 2023</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2023/02/20/Microscope-Camera/">Microscope Camera</a></h6>
              <span>February 20, 2023</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2023/02/20/Microscope-Selection/">Microscope Selection</a></h6>
              <span>February 20, 2023</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2022/08/17/WLED-Degchi-Lamp/">WLED Degchi Lamp</a></h6>
              <span>August 17, 2022</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/03/11/TP-Link-U3T-Ubuntu/">TP Link U3T Ubuntu</a></h6>
              <span>March 11, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/10/18/Rigol-DS1052E-Oscilloscope-Encoder-Repair/">Rigol DS1052E Oscilloscope Encoder Repair</a></h6>
              <span>October 18, 2020</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNC/" rel="tag">CNC</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Computing/" rel="tag">Computing</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Distributed-Computing/" rel="tag">Distributed Computing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Electrical/" rel="tag">Electrical</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Electronics/" rel="tag">Electronics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fixes/" rel="tag">Fixes</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hyperion/" rel="tag">Hyperion</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kalman/" rel="tag">Kalman</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LED/" rel="tag">LED</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-Learning/" rel="tag">Machine Learning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mechanical/" rel="tag">Mechanical</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeJs/" rel="tag">NodeJs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenScad/" rel="tag">OpenScad</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/" rel="tag">React Native</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Research/" rel="tag">Research</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RestAPI/" rel="tag">RestAPI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WLED/" rel="tag">WLED</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/CNC/" style="font-size: 15px;">CNC</a> <a href="/tags/Computing/" style="font-size: 17.5px;">Computing</a> <a href="/tags/Distributed-Computing/" style="font-size: 10px;">Distributed Computing</a> <a href="/tags/Electrical/" style="font-size: 12.5px;">Electrical</a> <a href="/tags/Electronics/" style="font-size: 10px;">Electronics</a> <a href="/tags/Fixes/" style="font-size: 20px;">Fixes</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Hyperion/" style="font-size: 10px;">Hyperion</a> <a href="/tags/Kalman/" style="font-size: 10px;">Kalman</a> <a href="/tags/LED/" style="font-size: 10px;">LED</a> <a href="/tags/Machine-Learning/" style="font-size: 10px;">Machine Learning</a> <a href="/tags/Mechanical/" style="font-size: 10px;">Mechanical</a> <a href="/tags/NodeJs/" style="font-size: 10px;">NodeJs</a> <a href="/tags/OpenScad/" style="font-size: 10px;">OpenScad</a> <a href="/tags/React-Native/" style="font-size: 10px;">React Native</a> <a href="/tags/Research/" style="font-size: 17.5px;">Research</a> <a href="/tags/RestAPI/" style="font-size: 10px;">RestAPI</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/WLED/" style="font-size: 10px;">WLED</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">December 2011</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2023 Questionable Engineering All Rights Reserved.
        
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
      var headerblur = document.getElementById("header-blur");
      headerblur.style.minHeight = window.getComputedStyle(document.getElementById("allheader"), null).height;
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/bootstrap.js"></script>


<script src="/js/main.js"></script>








  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
